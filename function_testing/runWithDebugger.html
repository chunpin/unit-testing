<script src="../tinytest.js"></script>
<script>

/*

function sayHi() {
  console.log('hi!');
}


function sayHiTo(name) {
  console.log('hi ' + name);
}


function sayFullName(first, last) {
  console.log(first + ' '  + last);
}








function runWithDebugger(callback, optionalArgumentsForCallBackAsArray){
	var callbackIsFunction = (typeof callback === "function") ? true : false ;
	var optionalArgumentsForCallBackAsArray = (Array.isArray(optionalArgumentsForCallBackAsArray))? true: false ;


	
	// callback is a function
	if(callbackIsFunction){
		// if There is optional argument AND it is an Array, run callback function with optional Array passed in
		if(arguments.length > 1 && optionalArgumentsForCallBackAsArray ){
			debugger;
            callback.apply(this, optionalArgumentsForCallBackAsArray);	
 		
 		// if There NO optional argument AND it is NOT an Array, throw error
        } else if (arguments.length > 1 && !optionalArgumentsForCallBackAsArray ){	
        	throw new Error('please pass the valid Array as second argument');
        // There's NO optional argument, run callback
		} else {
			debugger;
			sayHi();
		}

		
	// callback is NOT a function, throw error
	} else {
		throw new Error('please pass a valid callback function into runWithDebugger');
	}
}



runWithDebugger(sayHiTo, ['james']);*/





/*

--------- callback Syntax --------- 

    // runWithDebugger(callback, [optionalArray])


	// callback parameters ()
		// array 1
		// array 2

	// Run with debugger;


=============  REQUIREMENTS =============

• If callback, run debugger with callback
• If callback is a function. 
• If No callback, throw error.

• If callback HAS argument,  check if optionalArray is a array.
• If callback HAS argument, run callback with debugger
• If argument is Array.
• If argument is NOT array, trow error.











• If initialValue, accumulator should  start with initialValue.
• If initialValue, currentValue should start with array[0].
• If initialValue, callback will start at index array[0].

• If NO initialValue, accumulator start with array[0].
• If NO initialValue, currenValue start with array[1].
• If NO initialValue, callback will start at array[1].

• If initialValue, and the array is empty, it should return initialValue without calling callback.
• If No initialValue, and array has ONLY ONE element (regardless of position), it shoud return that ONLY ONE element without calling callback.




• It should actually reduce.
• It should exclude holes.
• If array is empty, and No initialvalue, throw TypeError.
• It should pass array as fourth argument to callback.



*/




// if(optionalThis) {
// 		var filterCallback = callback.bind(optionalThis);
// 	}






function runWithDebugger(callback,optionalArray){
	   // check if there's callback function 
	   if(callback){
	   		// if there's optional arguments As array 
	   		if(optionalArray){
	   			// callback.apply(this, optionalArray);	
	   			// callback(optionalArray)
	   			// console.log('optional Array',optionalArray);
	   			// callback(optionalArray[1]);
	   			console.log('HAS OpitonalArray');
	   			callback(optionalArray);
	   		}  else{
	   		// no optional Array	
	   			console.log('NO OpitonalArray');
	   			callback();
	   		}
	   } else{
	   // check if there's NO callback function 
	   	  throw new TypeError('forgot pass in a callback funciton ?');
	   }
}





tests({
	'If callback, run callback function 1 time only.': function (){
		var counter = 0;
		runWithDebugger(function (){
			counter++;
		});
		eq(counter, 1);
	},
	'If NO callback, throw error.': function (){
		var isTypeError = false;
		try {
			runWithDebugger();
		} catch(err) {
		    isTypeError = (err instanceof TypeError); // true
		};
		eq(isTypeError, true);
	},
	'If should pass the optionalArray as callback s argument .': function(){
		
		runWithDebugger(function (name){
			eq(name, 1);
		}, [1]);
	},


})




 








/*

------------ older comments --------------------------------------------------------------------------------------------------
--------- callback Description ---------

	•Executes the callback function once for each element present in the array
	•Excludes holes in the array (e.g. [ * hole *, 1])

		CASE 1: 
			If initialValue is provided in the call to reduce, then accumulator will be equal to initialValue, and currentValue will be equal to the first value in the array.	

			code example:
				var array = ['first', 'second', 'third'];
				array.reduce(function (accumulator, currentValue){
					//accumulator = initialValue
					//currentValue = array[0] 
				},initialValue);





		CASE 2: 
			NO initialValue is provided, then accumulator will be equal to the first value in the array, and currentValue will be equal to the second.	

			code example:
				var array = ['first', 'second', 'third'];
				array.reduce(function (accumulator, currentValue){
					//accumulator = array[0];
					//currentValue = array[1]; 
				}); 


		Edge Cases 1: 
			If the array is empty and no initialValue is provided, TypeError will be thrown.

			code example:
				var array = [];
				array.reduce(function (accumulator, currentValue){
				});

			    ==> throw TypeError 
		Edge Cases 2:

			If the array has only one element (regardless of position) and no initialValue is provided, or if initialValue is provided but the array is empty, the solo value will be returned without calling callback.

				code example:
				var array = [ * hole * , 2 , * hole *   ];
				array.reduce(function (){}); // no initialValue
				// return 2 without calling the callback function 



	• If array is empty , and NO initialValue, throw TypeError.
		// reduce([],function (){}); ===> throw TypeErro




	• If array is empty, and there is an initialValue, , it should be return SOLO VALUE  without calling callback.
		// reduce([], function() {}, initialValue ));  ===> return initialValue without calling callback


	• If array has only one element (regardless of position) , and NO initialValue, , it should be return SOLO VALUE of array without calling callback.
		// reduce([ * hole * , 1 ], function (){});  ===> return 1 without calling callback
		// redue([1], function (){});  ===> return 1 without calling callback

*/




</script>


